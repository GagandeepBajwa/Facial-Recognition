Deeplearning4j OOM Exception Encountered for ComputationGraph
Timestamp:                              2019-11-22 14:23:19.899
Thread ID                               1
Thread Name                             main


Stack Trace:
java.lang.OutOfMemoryError: Cannot allocate new FloatPointer(324766200): totalBytes = 1243M, physicalBytes = 1346M
	at org.bytedeco.javacpp.FloatPointer.<init>(FloatPointer.java:76)
	at org.nd4j.linalg.api.buffer.BaseDataBuffer.<init>(BaseDataBuffer.java:654)
	at org.nd4j.linalg.api.buffer.FloatBuffer.<init>(FloatBuffer.java:54)
	at org.nd4j.linalg.api.buffer.factory.DefaultDataBufferFactory.create(DefaultDataBufferFactory.java:280)
	at org.nd4j.linalg.factory.Nd4j.createBuffer(Nd4j.java:1494)
	at org.nd4j.linalg.api.ndarray.BaseNDArray.<init>(BaseNDArray.java:343)
	at org.nd4j.linalg.cpu.nativecpu.NDArray.<init>(NDArray.java:193)
	at org.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory.createUninitialized(CpuNDArrayFactory.java:199)
	at org.nd4j.linalg.factory.Nd4j.createUninitialized(Nd4j.java:4729)
	at org.deeplearning4j.nn.updater.BaseMultiLayerUpdater.<init>(BaseMultiLayerUpdater.java:152)
	at org.deeplearning4j.nn.updater.graph.ComputationGraphUpdater.<init>(ComputationGraphUpdater.java:44)
	at org.deeplearning4j.nn.updater.graph.ComputationGraphUpdater.<init>(ComputationGraphUpdater.java:40)
	at org.deeplearning4j.optimize.solvers.BaseOptimizer.updateGradientAccordingToParams(BaseOptimizer.java:283)
	at org.deeplearning4j.optimize.solvers.BaseOptimizer.gradientAndScore(BaseOptimizer.java:172)
	at org.deeplearning4j.optimize.solvers.StochasticGradientDescent.optimize(StochasticGradientDescent.java:63)
	at org.deeplearning4j.optimize.Solver.optimize(Solver.java:52)
	at org.deeplearning4j.nn.graph.ComputationGraph.fitHelper(ComputationGraph.java:1162)
	at org.deeplearning4j.nn.graph.ComputationGraph.fit(ComputationGraph.java:1112)
	at org.deeplearning4j.nn.graph.ComputationGraph.fit(ComputationGraph.java:1099)
	at com.fall2019.comp4980.AutoEncoder.train(AutoEncoder.java:139)
	at com.fall2019.comp4980.TestClass.ae(TestClass.java:33)
	at com.fall2019.comp4980.TestClass.main(TestClass.java:25)
Caused by: java.lang.OutOfMemoryError: Failed to allocate memory within limits: totalBytes (1243M + 1238M) > maxBytes (2048M)
	at org.bytedeco.javacpp.Pointer.deallocator(Pointer.java:581)
	at org.bytedeco.javacpp.Pointer.init(Pointer.java:125)
	at org.bytedeco.javacpp.FloatPointer.allocateArray(Native Method)
	at org.bytedeco.javacpp.FloatPointer.<init>(FloatPointer.java:68)
	... 21 more


<Error generating network memory status information section>java.lang.OutOfMemoryError: Cannot allocate new FloatPointer(324766200): totalBytes = 1243M, physicalBytes = 1364M
	at org.bytedeco.javacpp.FloatPointer.<init>(FloatPointer.java:76)
	at org.nd4j.linalg.api.buffer.BaseDataBuffer.<init>(BaseDataBuffer.java:654)
	at org.nd4j.linalg.api.buffer.FloatBuffer.<init>(FloatBuffer.java:54)
	at org.nd4j.linalg.api.buffer.factory.DefaultDataBufferFactory.create(DefaultDataBufferFactory.java:280)
	at org.nd4j.linalg.factory.Nd4j.createBuffer(Nd4j.java:1494)
	at org.nd4j.linalg.api.ndarray.BaseNDArray.<init>(BaseNDArray.java:343)
	at org.nd4j.linalg.cpu.nativecpu.NDArray.<init>(NDArray.java:193)
	at org.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory.createUninitialized(CpuNDArrayFactory.java:199)
	at org.nd4j.linalg.factory.Nd4j.createUninitialized(Nd4j.java:4729)
	at org.deeplearning4j.nn.updater.BaseMultiLayerUpdater.<init>(BaseMultiLayerUpdater.java:152)
	at org.deeplearning4j.nn.updater.graph.ComputationGraphUpdater.<init>(ComputationGraphUpdater.java:44)
	at org.deeplearning4j.nn.updater.graph.ComputationGraphUpdater.<init>(ComputationGraphUpdater.java:40)
	at org.deeplearning4j.optimize.solvers.BaseOptimizer.getComputationGraphUpdater(BaseOptimizer.java:134)
	at org.deeplearning4j.nn.graph.ComputationGraph.getUpdater(ComputationGraph.java:2866)
	at org.deeplearning4j.util.CrashReportingUtil.generateMemoryStatus(CrashReportingUtil.java:281)
	at org.deeplearning4j.util.CrashReportingUtil.writeMemoryCrashDump(CrashReportingUtil.java:160)
	at org.deeplearning4j.nn.graph.ComputationGraph.fit(ComputationGraph.java:1114)
	at org.deeplearning4j.nn.graph.ComputationGraph.fit(ComputationGraph.java:1099)
	at com.fall2019.comp4980.AutoEncoder.train(AutoEncoder.java:139)
	at com.fall2019.comp4980.TestClass.ae(TestClass.java:33)
	at com.fall2019.comp4980.TestClass.main(TestClass.java:25)
Caused by: java.lang.OutOfMemoryError: Failed to allocate memory within limits: totalBytes (1243M + 1238M) > maxBytes (2048M)
	at org.bytedeco.javacpp.Pointer.deallocator(Pointer.java:581)
	at org.bytedeco.javacpp.Pointer.init(Pointer.java:125)
	at org.bytedeco.javacpp.FloatPointer.allocateArray(Native Method)
	at org.bytedeco.javacpp.FloatPointer.<init>(FloatPointer.java:68)
	... 20 more
